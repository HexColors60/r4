^r4/lib/gui.txt
^r4/lib/zbuffer.txt

:ztest
	0 0 setxy
	zb >r
	sh ( 1? )( 1-
		sw ( 1? )( 1-
			r@+ $7fffffff <>? ( drop r zbo + @ )
			px!+
			) drop
		) drop rdrop ;


:tz
	zb.clear
	50 60 $f00 zop
	100 380 $1ff zline
	xymouse $007f zline
	50 60 $f00 zline
	$ff00 zo! zpoly

	100 70 $fe zop
	30 200 $fff zline
	90 300 $fff zline
	100 70 $fe zline
	$ff zo! zpoly

	100 70 $fe zop
	90 300 $fff zline
	300 80 $fff zline
	100 70 $fe zline
	$ff0000 zo! zpoly


	$ff0000 zo!
	400 100 250 200 zbh!
	401 100 250 200 zbh!

	$ff zo!
	300 200 150 200 zbw!
	300 201 150 200 zbw!

	ztest
	;

:main
	mark
	sw sh zb.ini
	33 verde
	show clrscr

    	tz
		dup "%d" print cr
		'exit >esc< ;

: main ;