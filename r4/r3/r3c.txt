| r3 compiler
| PHREDA 2018
|------------------
^r4/lib/gui.txt
^r4/lib/trace.txt

^./r3base.txt
^./r3pass1.txt
^./r3pass2.txt

::r3c | str --
	'path "%s%s" mprint
	here strcpyl
	here 2dup load
	here =? ( trace )
	'here !

	"pass1" slog

	swap r3-stage-1

	cnttokens "toks:%d" slog
	cntdef "def:%d" slog

	"pass2" slog

	r3-stage-2
	1? ( "error %d" slog ; ) drop
	

	;



: mark
	clrscr

	"r4/r3/r3/" r3path
	"main.r3" r3c
	spause ;

