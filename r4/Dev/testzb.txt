^r4/lib/gui.txt
^r4/lib/zbuffer.txt

:ztest
	0 0 setxy
	zb >r
	sh ( 1? )( 1-
		sw ( 1? )( 1-
			r@+ $7fffffff <>? ( drop r zbo + @ )
			px!+
			) drop
		) drop ;


:tz
	zb.clear
	50 60 $f00 zop
	100 380 $1ff zline
	xymouse $007f zline
	50 60 $f00 zline
	$ff00 zpoly

	100 70 $0000 zop
	30 200 $0fff zline
	90 300 $0fff zline
	100 70 $0000 zline
	$ff zpoly
	ztest
	;

:main
	mark
	sw sh zb.ini
	33 verde
	show clrscr

    	tz
		dup "%d" print cr
		'exit >esc< ;

: main ;