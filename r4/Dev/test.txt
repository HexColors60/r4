^r4/lib/gui.txt


#memo )( 1024

:memo!
	2 << 'memo + ! ;
:memo@
	2 << 'memo + @ ;

#t1 33
#t2 34
#vt 't2

:tt
 	234
	"sss"
	24
	'memo
	t1
	't2
	;

:!!
|WIN| dup *
|AND| +
	2 <? ( ; )
	dup 1- !! * ;

:cuad dup * ;

#ve 'cuad

:testmem
	cls
	blanco
	10 10 op
	rojo
	180 20 line
	verde
	190 120 line
	[ dup drop ; ] <esc>
	0 ( 10 <? )( -1 over memo! 1+ ) drop ;

:main1 testmem 'memo c@+ drop c@+ drop t1 1 't2 +! 't2 @ 2 2 + 15 cuad 33 cuad  ;

:aatan2 | x y --
	0? ( drop +? ( drop 0 ; ) drop 0.5 ; )
	0 >r
	-? ( neg swap neg swap 0.5 r+ )
	swap -? ( neg swap 0.25 r+ ) | y x
	over <=? ( 2dup - rot rot + 0.125 r+ )
	| y x
	swap /. dup
	dup neg *.
	dup 0.02723 *. 0.09916 +	|t2 dphi
	over *. 0.19048 +
	over *. 0.33316 +
	swap *. 1.00006 +
	*. r> +
	;

:main
tt
	show clrscr
		cr
		0 ( 0.5 <? )(
			dup "%f " print
			cr allowchome
			0.01 + ) drop
		'exit >esc<

	;

: main ;
