| genera macro tri
|
^r4/lib/gui.txt
^r4/lib/sort.txt

^r4/lib/macrosr4.txt

:macrolist
	'macrosr4
	( dup c@ 1? )( drop
		dup print sp cr allowchome
		>>0 ) 2drop ;

#ordenlist )( 8192
#nlist

:macroo
	0 'nlist !
	'ordenlist >a
	'macrosr4
	( dup c@ 1? )( drop
		dup a!+ nlist a!+
		1 'nlist +!
		>>0 ) 2drop ;

:dumplist
	'ordenlist >b
	nlist ( 1? )( 1-
		b@+ print
		b@+ "=%d " print
		sp cr allowchome
		) drop ;

:,dumplist
	'ordenlist >b
	nlist ( 1? )( 1-
		b@+ ,print
		4 b+
		,cr
		) drop ;

#trie )( 1024
#level )( 1024
#level> 'level
#nl
:maketrie
	nlist 'ordenlist sortstr
	0 'nl !
	'level 'level> !
	'trie >a
	a> level> !+ 'level> !
	1 'nl +!
	'ordenlist >b
	nlist ( 1? )( 1-
		b@+	c@
		a> 1- c@ <>? ( a> c!+ >a )( drop )
		4 b+
		) drop
	0 a!+
	a> level> !+ 'level> !


	;

:savelist
	mark
	,dumplist
	,cr
	'trie ,print
	"tri.txt" savemem
	empty
	;
:main
	mark
	fonti
	macroo

	show clrscr
		nlist "%d " print cr cr

|		macrolist
		dumplist
		'trie print

		cminiflecha

		'maketrie <f1>

		'savelist <f3>
		'exit >esc< ;

: main ;